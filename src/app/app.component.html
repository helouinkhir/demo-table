<p-table *ngIf="data" [value]="rowData" dataKey="name">
    <ng-template pTemplate="header">
        <tr>
            <th style="width: 3rem"></th>
            <th>Header Dates</th>
            <th *ngFor="let ev of data.expectedVoteValues">{{ev.date}}</th>
        </tr>
        <tr>
            <td></td>
            <td>
                Expected Total Vote
            </td>
            <td *ngFor="let ev of data.expectedVoteValues">{{ev.count}}</td>
        </tr>
    </ng-template>
   
       

    <ng-template pTemplate="body" let-row let-expanded="expanded">
        <tr>
            <td>
                <button type="button" pButton pRipple [pRowToggler]="row" class="p-button-text p-button-rounded p-button-plain" [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
            </td>
            <td>{{row.name}}</td>
            <td class="center" *ngFor="let vote of row.votes">{{vote}}</td>
        </tr>
    </ng-template>
    <ng-template pTemplate="rowexpansion" let-row>
        <tr>
            <td colspan="4">
                <div class="p-p-3">
                    <p-table [value]="row.states" dataKey="name">
                        <ng-template pTemplate="body" let-state>
                            <tr>
                                <td >{{state.name}}</td>
                                <td class="center" *ngFor="let vote of state.votes">{{vote}}</td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
            </td>
        </tr>
    </ng-template>
</p-table>